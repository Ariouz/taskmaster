[supervisord]
logfile=/tmp/supervisord.log
loglevel=info
pidfile=/tmp/supervisord.pid
nodaemon=true

[unix_http_server]
file=/tmp/supervisor.sock
chmod=0700

[rpcinterface:supervisor]
supervisor.rpcinterface_factory = supervisor.rpcinterface:make_main_rpcinterface

[supervisorctl]
serverurl=unix:///tmp/supervisor.sock

[inet_http_server]
port=127.0.0.1:9001
username=admin
password=admin

[program:myprogram]
command=/bin/sleep 60
numprocs=1
autostart=true
autorestart=true
startsecs=1
startretries=3
stopsignal=TERM
stopwaitsecs=5
stdout_logfile=/tmp/myprogram.out.log
stderr_logfile=/tmp/myprogram.err.log
directory=/tmp
environment=EXAMPLE_ENV="hello"
umask=022

[program:secondprogram]
command=/bin/echo "Second Program Running"
process_name=%(program_name)s_%(process_num)s
numprocs=2
autostart=false
autorestart=false
startsecs=1
startretries=2
stopsignal=TERM
stopwaitsecs=5
stdout_logfile=/tmp/secondprogram.out.log
stderr_logfile=/tmp/secondprogram.err.log
directory=/tmp
environment=LOG_LEVEL="debug"
umask=022

[program:failprogram]
command=/bin/false
process_name=%(program_name)s_%(process_num)s
numprocs=3
autostart=true
autorestart=unexpected
startsecs=1
startretries=1
stopsignal=TERM
stopwaitsecs=5
stdout_logfile=/tmp/failprogram.out.log
stderr_logfile=/tmp/failprogram.err.log
directory=/tmp
environment=FAIL_FLAG="true"
umask=022
